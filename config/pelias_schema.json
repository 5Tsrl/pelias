{

  "settings": {

    "analysis": {

      "analyzer": {

        "suggest_synonyms": {
          "type": "custom",
          "tokenizer": "whitespace",
          "filter": ["synonym_filter", "lowercase"]
        }

      },

      "filter": {

        "synonym_filter": {
          "type": "synonym",
          "synonyms_path": "%DIRPATH%/config/synonyms.txt",
          "expand": true
        }

      }

    }

  },

  "mappings": {

    "location": {

      "properties": {

        "gn_id":  { "type": "long", "index": "not_analyzed" },
        "woe_id": { "type": "long", "index": "not_analyzed" },
        "osm_id": { "type": "long", "index": "not_analyzed" },

        "location_type": { "type": "string" },

        "name": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "alternate_names": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "admin0_name": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "admin0_alternate_names": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "admin1_name": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "admin1_alternate_names": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "admin2_name": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "admin2_alternate_names": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "local_admin_name": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "local_admin_alternate_names": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "locality_name": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "locality_alternate_names": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "neighborhood_name": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "neighborhood_alternate_names": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "street_name": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "address_name": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "poi_name": {
          "type": "string",
          "index": "analyzed",
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms"
        },

        "boundaries": {
          "type": "geo_shape",
          "index": "not_analyzed"
        },

        "center_point": {
          "type": "geo_point"
        },

        "suggest": {
          "type": "completion",
          "preserve_position_increments": false,
          "preserve_separators": false,
          "index_analyzer": "suggest_synonyms",
          "search_analyzer": "suggest_synonyms",
          "payloads": true
        },

        "refs": {
          "type": "object",
          "properties": {
            "admin0":       { "type": "string", "index": "not_analyzed" },
            "admin1":       { "type": "string", "index": "not_analyzed" },
            "admin2":       { "type": "string", "index": "not_analyzed" },
            "local_admin":  { "type": "string", "index": "not_analyzed" },
            "locality":     { "type": "string", "index": "not_analyzed" },
            "neighborhood": { "type": "string", "index": "not_analyzed" }
          }
        }

      }

    }

  }

}
